
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="section-title text-center wow zoomIn">
                <h1>Macros</h1>
                <span></span>
                <!--<p>Our Frequently Asked Questions here.</p>-->
            </div>
        </div>
    </div>
    </div>
    <br>
<div class="container" style="
width: 900px;
">

    <div class="container">
        <button   data-toggle="modal" data-target="#exampleModal"  type="button" class="btn btn-outline-danger" style="
        margin-bottom: 19px;"><i class="fa fa-plus fa-lg"></i> <i class="fa fa-file-text fa-lg" style="padding-left: 5px;"></i></button>
        
<div class="row">
    <div class="col-md-12">
 <!-- Start accordion -->
 <div id="accordion" class="">

    <!-- Start First collapse -->
      <div class="panel checkout-step" *ngFor="let macro of macros ; let i=index " >
          <div class="panel-heading" role="tab" id="headingOne"> 

             <div class="row">
                      <div class="col-10 col-lg-9">
                           <span class="checkout-step-number">{{i+1}}</span>
              <h4 class="checkout-step-title" > 
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="{{'#collapseOne'+i}}" aria-expanded="false" aria-controls="collapseOne"
                style="color: #065c9f;padding: 19px 398px 19px 20px;">
                    {{macro.titre}}
               </a></h4>
                      </div>

                      <div class="col-3 col-lg-3 text-right d-none d-sm-block d-md-block d-lg-block d-xl-block">
                      <button (click)="getMacroDetail(macro.id)" data-toggle="modal" data-target="#exampleModal1"  type="button" id="nextBtn" name="nextBtn" class="btn btn-default imc-jfeditbtn"> <i class="fa fa-pencil"></i></button>
                         <button (click)="deleteMacro(macro.id)" id="nextBtn" name="nextBtn" class="btn btn-default imc-jfeditbtn "> <i class="fa fa-trash"></i></button>
                         
                         
                      </div>

                       <div class="col-2 col-lg-2 text-right d-md-none d-lg-none">
                          <button id="nextBtn" name="nextBtn" class="btn btn-default imc-jfeditbtn"><i class="fa fa-edit"></i></button>
                      </div>
              </div>
           
          </div>
          <div id="{{'collapseOne'+i}}" class="collapse in">

            <!-- Start collapse body -->

              <div class="checkout-step-body">

                <!-- Start row -->
                  
                  <div class="row">
                      <div class="col-lg-12">
                          <div class="" style="padding: 0px 5px;" >
                             <div class="container">
                              <div class="form-group">
                                  
                                    <p class="card-text">{{macro.reponse}}</p>
                                  
                              </div>
                            </div>
                          </div>
                         
                      </div>
                      
                      
                      
                  </div>

                  <!-- End row -->


                
                  <!-- End row -->

                  <!-- Start button row -->
                  
                  

                  <!-- End button row -->
                
              </div>
              <!-- End collapse body -->
          </div>
      </div>

      <!-- End First collapse -->






























































</div>
</div>
</div>
</div>

















<!--Start Modal-->

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Nuveau macro</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form (ngSubmit)="onSubmit()">
      <div class="modal-body">
        
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Titre:</label>
            <input type="text" class="form-control" id="titre" [(ngModel)]="macro.titre"  [(ngModel)]="titre" name="titre">
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Réponse:</label>
            <textarea class="form-control" id="reponse" [(ngModel)]="macro.reponse"  [(ngModel)]="reponse" name="reponse"></textarea>
          </div>
          
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
        <button type="submit"  class="btn btn-primary">Enregistrer</button>
      </div></form>
    </div>
  </div>
</div>


<!--End Modal-->























<!--Start Modal-->

<div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modifier macro</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form (ngSubmit)="updateMacro(macro.id)">
      <div class="modal-body">
        
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Titre:</label>
            <input type="text" class="form-control" id="titre" [(ngModel)]="macro.titre"  [(ngModel)]="titre" name="titre">
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Réponse:</label>
            <textarea class="form-control" id="reponse" [(ngModel)]="macro.reponse"  [(ngModel)]="reponse" name="reponse"></textarea>
          </div>
          
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
        <button type="submit" class="btn btn-primary">Enregistrer la modificattion</button>
      </div></form>
    </div>
  </div>
</div>


<!--End Modal-->